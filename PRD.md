# Product Requirements Document (PRD) - Ryth-Bazar Unified B2B
**Project Name:** Ryth-Bazar Unified B2B E-Commerce System
**Date:** 2026-01-27
**Status:** In Development (Advanced B2B & Admin Integration)

---

## 1. Executive Summary
Ryth-Bazar is a unified B2B ecosystem powered by a single Firebase database. It connects Customers, Sales Agents, and Administrators in real-time to manage the entire lifecycle of a B2B transactionâ€”from field onboarding and lead capture to inventory management and fulfillment.

---

## 2. Product Scope & Features

### 2.1 Customer Portal (B2B)
**Goal:** Easy discovery and tracking for approved B2B clients.

**Key Features:**
1.  **Auth:** Login via Email or WhatsApp.
2.  **Trade Access:** Prices visible only after Agent approval.
3.  **B2B Catalog:** Product cards show **MOQ**. "Add to Cart" and "Buy Now" supported.
4.  **Checkout:** 
    *   Pre-filled address (from onboarding).
    *   Support for Secondary Delivery Address.
5.  **Post-Order:**
    *   View **Invoices** generated by Agents/Admins.
    *   Track **Payment Status** (Advance Received, Full Paid).
    *   Real-time logistics tracking (Vehicle #, Driver Contact).

### 2.2 Sales Agent Portal
**Goal:** Field sales automation and order lifecycle management.

**Key Features:**
1.  **Daily Ops:** Attendance marking and Daily Route Planner.
2.  **Onboarding:** Form to collect shop info, address, image of shop, and visiting card. (Result = Lead).
3.  **Sales Tools:**
    *   Approve "Price Access" for Leads.
    *   Performance tracking: Monthly Onboarding vs. Sales Targets.
4.  **Order Management:**
    *   Take orders or approve customer-held orders.
    *   **Invoicing:** Generate invoice once an order is approved.
    *   **Payments:** Log and update "Advance Payments".
    *   **Business Rule:** Dispatch only after **Full Payment** is confirmed.
5.  **Logistics:** Update delivery info (Tracking ID, Vehicle #, Contact info).

### 2.3 Admin Portal
**Goal:** Centralized control, inventory management, and verification.

**Key Features:**
1.  **Product Management:**
    *   CRUD operations with **Duplicate Warning**.
    *   **Bulk Upload** support.
    *   Online visibility toggle (Show/Hide in Customer Portal).
    *   Inventory/Out-of-Stock toggle.
2.  **Inventory Control:** Add and view inventory levels; status alerts in dashboard.
3.  **Command Center (Dashboard):**
    *   Cards: Total Products Online, Total Orders, Agents Online, Total Leads, Total Delivery Today.
    *   Analytics: Top Selling Products and Inventory Health.
4.  **Order & Payment Verification:**
    *   Approve orders (mentioning the processing Agent).
    *   Generate **Invoices** for approved orders.
    *   Verify payment status and verify delivery process.

---

## 3. Technical Architecture

### 3.1 Data Sync Strategy (LOCKED)
*   **Unified Database:** Single Firestore instance for all portals.
*   **Real-time Updates:** Use Firestore listeners for instant sync of Invoices, Payments, and Tracking info between Agent/Admin and Customer.

### 3.2 Key Models (Additions)
*   `products`: `isOnline` (bool), `stockCount` (int), `moq` (int).
*   `orders`: `agentId` (ref), `status` (enum: Pending, Approved, Processing, OutForDelivery, Delivered), `paymentStatus` (enum: Pending, AdvanceRecieved, FullyPaid), `invoiceUrl` (string).
*   `agents`: `monthlyOnboardingTarget` (int), `monthlySalesTarget` (int), `isOnline` (bool).

---

## 4. Development Roadmap

### Phase 2: B2B Experience (Onboarding & Auth)
- [ ] Agent-led onboarding form & Lead management.
- [ ] WhatsApp/Email Auth + Price approval logic.

### Phase 3: Commerce & Logistics
- [ ] MOQ Commerce logic (Cart/Checkout).
- [ ] Invoicing engine & Payment tracking.
- [ ] Tracking info synchronization.

### Phase 4: Admin Mastery
- [ ] Inventory management & Bulk uploads.
- [ ] Verification workflows (Payment/Delivery).
- [ ] Dashboard analytics.
